{"ast":null,"code":"import { makeAutoObservable } from \"mobx\";\nimport api from \"../services/API\";\nexport class Store {\n  constructor() {\n    this.movies = [];\n    this.loading = false;\n    this.search = '';\n    this.displayValue = '';\n\n    this.fetchMovies = async () => {\n      if (this.loading) {\n        return;\n      }\n\n      ;\n      this.setLoading(true);\n\n      if (this.search) {\n        try {\n          const movies = await api.getMovies(this.search);\n          this.setMovies(movies);\n        } catch (e) {\n          console.error(e);\n        } finally {\n          this.setLoading(false);\n        }\n\n        ;\n      }\n    };\n\n    makeAutoObservable(this);\n  }\n\n  setDisplayValue(displayValue) {\n    this.displayValue = displayValue;\n  }\n\n  setSearch(search) {\n    this.search = search;\n  }\n\n  setMovies(movies) {\n    this.movies = movies;\n  }\n\n  setLoading(loading) {\n    this.loading = loading;\n  }\n\n}\n;","map":{"version":3,"sources":["/home/manoel/Codigos/treinamento/aulas/05/reactmovies/src/Home/store.ts"],"names":["makeAutoObservable","api","Store","constructor","movies","loading","search","displayValue","fetchMovies","setLoading","getMovies","setMovies","e","console","error","setDisplayValue","setSearch"],"mappings":"AAAA,SAASA,kBAAT,QAAmC,MAAnC;AAEA,OAAOC,GAAP,MAAgB,iBAAhB;AAEA,OAAO,MAAMC,KAAN,CAAY;AACfC,EAAAA,WAAW,GAAG;AAAA,SAGPC,MAHO,GAGiB,EAHjB;AAAA,SAIPC,OAJO,GAIY,KAJZ;AAAA,SAKPC,MALO,GAKU,EALV;AAAA,SAMPC,YANO,GAMgB,EANhB;;AAAA,SAqBPC,WArBO,GAqBO,YAAY;AAC7B,UAAI,KAAKH,OAAT,EAAkB;AACd;AACH;;AAAA;AACD,WAAKI,UAAL,CAAgB,IAAhB;;AACA,UAAG,KAAKH,MAAR,EAAe;AACX,YAAI;AACA,gBAAMF,MAAM,GAAG,MAAMH,GAAG,CAACS,SAAJ,CAAc,KAAKJ,MAAnB,CAArB;AACA,eAAKK,SAAL,CAAeP,MAAf;AACH,SAHD,CAGE,OAAOQ,CAAP,EAAU;AACRC,UAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACH,SALD,SAKU;AACN,eAAKH,UAAL,CAAgB,KAAhB;AACH;;AAAA;AACJ;AACJ,KApCa;;AACVT,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACH;;AAKMe,EAAAA,eAAe,CAACR,YAAD,EAAsB;AACxC,SAAKA,YAAL,GAAoBA,YAApB;AACH;;AACMS,EAAAA,SAAS,CAACV,MAAD,EAAiB;AAC7B,SAAKA,MAAL,GAAcA,MAAd;AACH;;AACMK,EAAAA,SAAS,CAACP,MAAD,EAAwB;AACpC,SAAKA,MAAL,GAAcA,MAAd;AACH;;AAEMK,EAAAA,UAAU,CAACJ,OAAD,EAAmB;AAChC,SAAKA,OAAL,GAAeA,OAAf;AACH;;AApBc;AAsClB","sourcesContent":["import { makeAutoObservable } from \"mobx\";\nimport * as types from '../declarations/types';\nimport api from \"../services/API\";\n\nexport class Store {\n    constructor() {\n        makeAutoObservable(this);\n    };\n    public movies: types.Movie[] = [];\n    public loading: boolean = false;\n    public search: string = '';\n    public displayValue: string = '';\n    public setDisplayValue(displayValue: string){\n        this.displayValue = displayValue;\n    }\n    public setSearch(search: string) {\n        this.search = search;\n    };\n    public setMovies(movies: types.Movie[]) {\n        this.movies = movies;\n    };\n\n    public setLoading(loading: boolean) {\n        this.loading = loading;\n    };\n\n    public fetchMovies = async () => {\n        if (this.loading) {\n            return;\n        };\n        this.setLoading(true);\n        if(this.search){\n            try {\n                const movies = await api.getMovies(this.search);\n                this.setMovies(movies);\n            } catch (e) {\n                console.error(e);\n            } finally {\n                this.setLoading(false);\n            };\n        }\n    };\n};"]},"metadata":{},"sourceType":"module"}